import { Canvas, Controls, Meta } from "@storybook/blocks"

import * as IpAssetProviderStory from "./IpAssetProvider.stories"

<Meta of={IpAssetProviderStory} title="Providers/IpAssetProvider" />

# IpAssetProvider

Provides IP Asset data to children components.

#### Example

<Canvas of={IpAssetProviderStory.Select} />

<Controls />

## Usage

```ts
// wrap your component with the IpAssetProvider

import { IpAssetProvider } from "@storyprotocol/storykit"
import ExampleComponent from './ExampleComponent'

const ExamplePage = () => {
  return (
    <IpAssetProvider ipId={"0xbbf08a30b9ff0f717a024a75963d3196aaf0f0dd"}>
      <ExampleComponent />
    </IpAssetProvider>
  );
};

export default ExamplePage;
```

```ts
// in your component file, context provides IP asset state

import { useIpAssetContext } from "@storyprotocol/storykit"

const ExampleComponent = () => {

  const { nftData, isNftDataLoading } = useIpAssetContext()

  return (
    <div>
      {isNftDataLoading && <div>Fetching Asset...</div>}

      {nftData && !isNftDataLoading ? (
        <div>nft id: {nftData.nft_id}</div>
      ) : null}
    </div>
  );
};

export default ExampleComponent;
```

#### Provider data

The IpAssetProvider provides the following data to its children:

- **assetData** - The IP Asset data.
- **isAssetDataLoading** - IP Asset data loading state.
- **nftData** - The NFT Metadata.
- **isNftDataLoading** - NFT Metadata loading state.
- **ipPolicyData** - Policies attached to the IP Asset.
- **isIPAPolicyDataLoading** - Policy data loading state.
- **policyData** - The Policy details including the template id, address and terms.
- **isPolicyDataLoading** - Policy data loading state.
- **licenseData** - IP Asset minted Licenses.
- **isLicenseDataLoading** - License data loading state.
- **royaltyData** - The Royalty Policy data.
- **isRoyaltyDataLoading** - Royalty Policy data loading state.

#### Arguments

- **children** - The child component to provide the IP Asset context to.
- **ipId** - The IP Asset Id, an Address starting 0x.
